<!DOCTYPE html>
<head>
    <title>Test</title>
    <link href="../node_modules/bootstrap/dist/css/bootstrap.css" rel="stylesheet" ></style>
</head>
<body class="container mx-auto my-5">
    <h1 class="">Simple Enrollment System</h1>
    <div class="d-flex align-items-start">
        <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
          <button class="nav-link active" id="v-pills-dept-tab" data-bs-toggle="pill" data-bs-target="#v-pills-dept" type="button" role="tab" aria-controls="v-pills-home" aria-selected="true">Manage Department</button>
          <button class="nav-link" id="v-pills-profile-tab" data-bs-toggle="pill" data-bs-target="#v-pills-teachers" type="button" role="tab" aria-controls="v-pills-profile" aria-selected="false">Manage Teachers</button>
          <button class="nav-link" id="v-pills-students-tab" data-bs-toggle="pill" data-bs-target="#v-pills-students" type="button" role="tab" aria-controls="v-pills-messages" aria-selected="false">Enroll Students</button>
          
        </div>
        <div class="tab-content" id="v-pills-tabContent">
          <div class="tab-pane fade show active" id="v-pills-dept" role="tabpanel" aria-labelledby="v-pills-dept-tab">
              <h4>Departments</h4>
              <table class="table table-hover">
                  <thead>
                    <tr>
                        <th>Id</th>
                        <th>Name</th>
                        <th>Options</th>
                    </tr>
                  </thead>
                  <tbody id="dept-table">
                    
                  </tbody>
              </table>
          </div>
          <div class="tab-pane fade" id="v-pills-teachers" role="tabpanel" aria-labelledby="v-pills-teachers-tab">
              teachers
          </div>
          <div class="tab-pane fade" id="v-pills-students" role="tabpanel" aria-labelledby="v-pills-students-tab">
              students
          </div>
        </div>
      </div>
    <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="classes/department.js"></script>
    <script>
        let colleges = new Department("CAS","College of Arts and Sciences");
        colleges = new Department("CN","College of Nursing");
        let depts = colleges.getAllDepts();
        //console.log(depts);
        let deptTbl = document.querySelector("#dept-table");

        function editDepartment(id){

        }
        function deleteDepartment(id){
            colleges.deleteDept(id);
            let collegeRow = document.querySelector("#college-"+id);
            deptTbl.removeChild(collegeRow);
        }

        
       
        //console.log();
        
        let rowData = '';
        for(let i=0; i<depts.length; i++){
            let deptId = depts[i].id;
            rowData+='<tr id="college-'+deptId+'">';
            rowData+='<td>'+deptId+'</td>';
            rowData+='<td>'+depts[i].name+'</td>'; 
            rowData+='<td> <button class="btn btn-primary" onclick="editDepartment('+depts[i].id+')">Edit</button> <button class="btn btn-danger" onclick="deleteDepartment(\''+deptId+'\');">Delete</button></td>';
            rowData+='</tr>';
        }
        deptTbl.innerHTML +=rowData;
        
        //Department.showDepts(); 
    </script>
</body>
</html>